(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{640:function(t,e,l){"use strict";l.r(e);l(11);var o=l(27),n=l.n(o),r={layout:"admin",name:"serviceEdit",data:function(){return{loading:!0,service:[],urlImage:"https://toolicat.dexploitdm.ru/uploads/",systemIntFormat:[],professions:[],professionsOptions:[],output:""}},methods:{formSubmit:function(t){t.preventDefault();var e=this,l=new FormData;l.append("logo",this.service.logo),l.append("title",this.service.title),l.append("desc",this.service.desc),l.append("content",this.service.content),l.append("category_id",this.service.category_id),l.append("assessmentUse",this.service.assessmentUse),l.append("assessmentSupport",this.service.assessmentSupport),l.append("linkSite",this.service.linkSite),l.append("linkCases",this.service.linkCases),l.append("linkInstructions",this.service.linkInstructions),l.append("linkVideo",this.service.linkVideo),l.append("linkAPI",this.service.linkAPI),l.append("methodsPay",this.service.methodsPay),l.append("systemInstall",this.systemIntFormat),l.append("professions",this.professions),l.append("socials",this.service.socials);var o="https://toolicat.dexploitdm.ru/api/"+"services/".concat(this.$route.params.id);n.a.post(o,l,{headers:{"content-type":"multipart/form-data"}}).then((function(t){e.output=t.data})).catch((function(t){e.output=t}))},onImageChange:function(t){this.service.logo=t.target.files[0],this.readUrlImage(t.target)},readUrlImage:function(input){if(input.files&&input.files[0]){var t=new FileReader;t.onload=function(t){document.getElementById("image").setAttribute("src",t.target.result)},t.readAsDataURL(input.files[0])}},formationSystem:function(t){if(t)for(var i=0;i<t.length;i++)isNaN(Number(t[i]))||this.systemIntFormat.push(t[i])},formationProfessions:function(t){if(t){for(var e=[],l=0,i=0;i<t.length;i++)","!=t[i]?e[l]?e[l]+=t[i]:e[l]=t[i]:l++;this.professions=e}}},mounted:function(){var t=this;if(this.$route.params.id){var e="https://toolicat.dexploitdm.ru/api/"+"services/".concat(this.$route.params.id);n.a.get(e).then((function(e){t.service=e.data,t.formationSystem(e.data.systemInstall),t.formationProfessions(e.data.professions),t.loading=!1}))}},computed:{categories:function(){return this.$store.state.data.category.categories},systemInstallAll:function(){return this.$store.state.data.others.systemInstall}}},c=l(12),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-md-12"},[l("div",{staticClass:"card"},[t._m(0),t._v(" "),l("div",{staticClass:"card-body"},[l("form",{attrs:{enctype:"multipart/form-data"},on:{submit:t.formSubmit}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Введите название сервиса")]),t._v(" "),l("el-input",{attrs:{placeholder:"Введите название сервиса"},model:{value:t.service.title,callback:function(e){t.$set(t.service,"title",e)},expression:"service.title"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Краткое описание")]),t._v(" "),l("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Краткое описание"},model:{value:t.service.desc,callback:function(e){t.$set(t.service,"desc",e)},expression:"service.desc"}})],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("el-select",{attrs:{placeholder:"Выберите категорию"},model:{value:t.service.category_id,callback:function(e){t.$set(t.service,"category_id",e)},expression:"service.category_id"}},t._l(t.categories,(function(t){return l("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("div",[l("span",{staticClass:"demonstration"},[t._v("Простота использования")]),t._v(" "),l("el-rate",{model:{value:t.service.assessmentUse,callback:function(e){t.$set(t.service,"assessmentUse",e)},expression:"service.assessmentUse"}})],1),t._v(" "),l("div",[l("span",{staticClass:"demonstration"},[t._v("Обслуживания клиентов")]),t._v(" "),l("el-rate",{model:{value:t.service.assessmentSupport,callback:function(e){t.$set(t.service,"assessmentSupport",e)},expression:"service.assessmentSupport"}})],1)]),t._v(" "),l("div",{staticClass:"t-control t-box"})])],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("TuiEditor",{attrs:{mode:"wysiwyg","preview-style":"vertical",height:"300px"},model:{value:t.service.content,callback:function(e){t.$set(t.service,"content",e)},expression:"service.content"}})],1),t._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на сайт")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на сайт"},model:{value:t.service.linkSite,callback:function(e){t.$set(t.service,"linkSite",e)},expression:"service.linkSite"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на кейсы")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на кейсы"},model:{value:t.service.linkCases,callback:function(e){t.$set(t.service,"linkCases",e)},expression:"service.linkCases"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на инструкции")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на инструкции"},model:{value:t.service.linkInstructions,callback:function(e){t.$set(t.service,"linkInstructions",e)},expression:"service.linkInstructions"}})],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на видео")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на видео"},model:{value:t.service.linkVideo,callback:function(e){t.$set(t.service,"linkVideo",e)},expression:"service.linkVideo"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на API")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на API"},model:{value:t.service.linkAPI,callback:function(e){t.$set(t.service,"linkAPI",e)},expression:"service.linkAPI"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Метод оплаты")]),t._v(" "),l("el-input",{attrs:{placeholder:"Метод оплаты"},model:{value:t.service.methodsPay,callback:function(e){t.$set(t.service,"methodsPay",e)},expression:"service.methodsPay"}})],1)])],1),t._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Платформы установки")]),t._v(" "),l("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"Выбрать"},model:{value:t.systemIntFormat,callback:function(e){t.systemIntFormat=e},expression:"systemIntFormat"}},t._l(t.systemInstallAll,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Для кого")]),t._v(" "),l("el-select",{staticClass:"full",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Для кого"},model:{value:t.professions,callback:function(e){t.professions=e},expression:"professions"}},t._l(t.professionsOptions,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box t-box-image"},[l("span",{staticClass:"t-box-title"},[t._v("Логотип")]),t._v(" "),l("div",{staticClass:"control-flex"},[l("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:t.onImageChange}}),t._v(" "),l("div",{staticClass:"t-box-image-cover"},[l("img",{attrs:{id:"image",src:t.urlImage+"services/"+t.service.logo,alt:""}})])])])])],1),t._v(" "),t._m(1)],1),t._v("\n                        "+t._s(t.output)+"\n                    ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-title"},[this._v("Категории")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"t-control"},[e("button",{staticClass:"btn btn-success"},[this._v("Submit")])])}],!1,null,"0145cbb0",null);e.default=component.exports}}]);