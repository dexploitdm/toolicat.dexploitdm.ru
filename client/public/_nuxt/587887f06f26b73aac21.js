(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{612:function(t,e,r){},614:function(t,e,r){"use strict";var n=r(612);r.n(n).a},618:function(t,e,r){"use strict";var n={methods:{socialLogin:function(t){window.location.href="".concat("https://toolicat.dexploitdm.ru/api/","auth/login/").concat(t)}}},o=(r(614),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"social-login"},[r("button",{staticClass:"social-login-btn facebook",on:{click:function(e){return t.socialLogin("facebook")}}},[r("i",{staticClass:"fab fa-facebook"})]),t._v(" "),r("button",{staticClass:"social-login-btn twitter",on:{click:function(e){return t.socialLogin("twitter")}}},[r("i",{staticClass:"fab fa-twitter"})]),t._v(" "),r("button",{staticClass:"social-login-btn google",on:{click:function(e){return t.socialLogin("google")}}},[r("i",{staticClass:"fab fa-google"})])])}),[],!1,null,"c99e4cb4",null);e.a=component.exports},620:function(t,e){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return c}));var n=function(t){return null!=t},o=function(t,e){try{var r=t.getItem(e);if(n(r)){var o=JSON.parse(r);if(n(o)){var u=(new Date).getTime(),i=o.created,c=6e4;o.unit&&"s"===o.unit?c=1e3:o.unit&&"m"===o.unit?c=6e4:o.unit&&"h"===o.unit?c=36e5:o.unit&&"d"===o.unit&&(c=864e5);var a=parseInt(o.expiry,10)*c;if(parseInt(i,10)+a>u)return o.value;console.warn("storage is expired")}}}catch(t){console.warn("failed parse JSON")}return null},u=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"m";try{var u=t,i={created:(new Date).getTime(),value:r,expiry:n,unit:o};return u.setItem(e,JSON.stringify(i)),i}catch(t){}return null},i=function(t,e){try{t.removeItem(e)}catch(t){}},c=function(t){try{t.clear()}catch(t){}}},function(t,e,r){"use strict";r.r(e),r.d(e,"getData",(function(){return u})),r.d(e,"setData",(function(){return i})),r.d(e,"removeItem",(function(){return c})),r.d(e,"clear",(function(){return a}));var n=r(0);function o(){return"localStorage"in window&&window.localStorage?window.localStorage:null}var u=function(t){try{var e=o();return Object(n.b)(e,t)}catch(t){}return null},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"m";try{var i=o();return Object(n.d)(i,t,e,r,u)}catch(t){}return null},c=function(t){try{var e=o();Object(n.c)(e,t)}catch(t){}},a=function(){try{var t=o();Object(n.a)(t)}catch(t){}}},function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"getData",(function(){return u})),r.d(e,"setData",(function(){return i})),r.d(e,"removeItem",(function(){return c})),r.d(e,"clear",(function(){return a}));var n=r(0);function o(){return"sessionStorage"in window&&window.sessionStorage?window.sessionStorage:null}var u=function(e){if(t.client)try{var r=o();return Object(n.b)(r,e)}catch(t){}return null},i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"m";if(t.client)try{var c=o();return Object(n.d)(c,e,r,u,i)}catch(t){}return null},c=function(t){try{var e=o();Object(n.c)(e,t)}catch(t){}},a=function(){try{var t=o();Object(n.a)(t)}catch(t){}}}.call(this,r(3))},function(t,e){var r,n,o=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(t){r=u}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var a,l=[],f=!1,s=-1;function m(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&d())}function d(){if(!f){var t=c(m);f=!0;for(var e=l.length;e;){for(a=l,l=[];++s<e;)a&&a[s].run();s=-1,e=l.length}a=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new v(t,e)),1!==l.length||f||c(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(2);e.default={localStorage:{getData:n.getData,setData:n.setData,removeItem:n.removeItem,clear:n.clear},sessionStorage:{getData:o.getData,setData:o.setData,removeItem:o.removeItem,clear:o.clear}}}])},627:function(t,e,r){"use strict";r.r(e);r(33);var n,o=r(10),c=r(618),l=r(620),f=r.n(l),m={middleware:"guest",components:{SocialLogin:c.a},data:function(){return{form:{email:"",password:""},remember:"",loading:!1,error:this.$route.query.error}},mounted:function(){this.rememberMe()},methods:{login:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$auth.login({data:this.form});case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return");case 9:this.loading=!1,this.$router.push(this.$route.query.redirect?this.$route.query.redirect:"/");case 11:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(){return n.apply(this,arguments)}),rememberChange:function(){!0===this.remember&&this.form.email&&this.form.password&&(f.a.localStorage.setData("loginEmail",this.form.email),f.a.localStorage.setData("loginPassword",this.form.password),f.a.localStorage.setData("isRemember",this.remember))},rememberMe:function(){f.a.localStorage.getData("loginEmail")&&(this.form.email=f.a.localStorage.getData("loginEmail")),f.a.localStorage.getData("loginPassword")&&(this.form.password=f.a.localStorage.getData("loginPassword")),f.a.localStorage.getData("isRemember")&&(this.remember=f.a.localStorage.getData("isRemember"))}}},d=r(12),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page content"},[t._m(0),t._v(" "),r("div",{staticClass:"page-box"},[r("div",{staticClass:"page-box-layout"},[r("h2",{staticClass:"title-h2"},[t._v("Войти с помощью")]),t._v(" "),r("div",{staticClass:"social-box"},[t.error?r("div",{staticClass:"alert alert-danger mb-2",attrs:{role:"alert"}},[t._v("\n                    Ваш токен оказался недействительным. Попробуйте снова.\n                ")]):t._e(),t._v(" "),r("social-login"),t._v(" "),t._m(1),t._v(" "),r("div",{staticClass:"social-box-other"},[t._v("\n                    Войти с помощью электронной почты\n                ")])],1),t._v(" "),r("form",{staticClass:"form-auth",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("div",{staticClass:"t-control box-control"},[r("span",{staticClass:"t-label"},[t._v("Email адрес")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"t-input",class:{"is-invalid":t.errors.email},attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t.errors.email?r("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.errors.email[0])+"\n                    ")]):t._e()]),t._v(" "),r("div",{staticClass:"t-control box-control"},[r("span",{staticClass:"t-label"},[t._v("Пароль")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"t-input",class:{"is-invalid":t.errors.password},attrs:{type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.errors.password?r("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.errors.password[0])+"\n                    ")]):t._e()]),t._v(" "),r("div",{staticClass:"t-control control-flex  box-control"},[r("div",{staticClass:"remember"},[r("el-checkbox",{on:{change:t.rememberChange},model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}},[t._v("Запомнить меня")])],1),t._v(" "),r("div",{staticClass:"form-auth-link"},[t._v("\n                        У вас нет аккаунта?\n                        "),r("nuxt-link",{staticClass:"link-auth",attrs:{to:"/auth/register"}},[t._v("\n                            Зарегистрироваться\n                        ")])],1),t._v(" "),r("input",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"t-button blue",attrs:{type:"submit",value:"Вход"}})])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-box"},[e("h1",{staticClass:"title-h1"},[this._v("Вход")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"social-box-cube"},[e("div",{staticClass:"social-box-line"}),this._v(" "),e("div",{staticClass:"social-box-text"},[this._v("или")]),this._v(" "),e("div",{staticClass:"social-box-line"})])}],!1,null,null,null);e.default=component.exports}}]);