(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{626:function(t,e,l){"use strict";l.r(e);var n=l(27),o=l.n(n),c={layout:"admin",name:"create",data:function(){return{title:"",category_id:"",desc:"",logo:"",assessmentUse:0,assessmentSupport:0,content:"<h1>Введите описание</h1>",linkSite:"",linkVideo:"",linkCases:"",linkAPI:"",linkInstructions:"",methodsPay:"Карта/Эл. кошельки",systemInstall:[],socials:[],socialsOptions:[],professions:[],professionsOptions:[{value:"маркетолог",label:"маркетолог"}],output:""}},methods:{formSubmit:function(t){t.preventDefault();var e=this,l=new FormData;l.append("logo",this.logo),l.append("title",this.title),l.append("desc",this.desc),l.append("content",this.content),l.append("category_id",this.category_id),l.append("assessmentUse",this.assessmentUse),l.append("assessmentSupport",this.assessmentSupport),l.append("linkSite",this.linkSite),l.append("linkCases",this.linkCases),l.append("linkInstructions",this.linkInstructions),l.append("linkVideo",this.linkVideo),l.append("linkAPI",this.linkAPI),l.append("methodsPay",this.methodsPay),l.append("systemInstall",this.systemInstall),l.append("professions",this.professions),l.append("socials",this.socials);o.a.post("https://toolicat.dexploitdm.ru/api/services/create",l,{headers:{"content-type":"multipart/form-data"}}).then((function(t){e.output=t.data,document.location.href="/admin/services"})).catch((function(t){e.output=t}))},saveService:function(){var t=this;o.a.post("https://toolicat.dexploitdm.ru/api/services/create",{title:this.title,desc:this.desc,content:this.content,category_id:this.category_id,assessmentUse:this.assessmentUse,assessmentSupport:this.assessmentSupport,linkSite:this.linkSite}).then((function(e){t.$store.dispatch("data/services/GET_SERVICES"),t.$router.push({path:"/admin/services"})}))},onImageChange:function(t){this.logo=t.target.files[0],this.readUrlImage(t.target)},changeCat:function(t){console.log(t)},readUrlImage:function(input){if(input.files&&input.files[0]){var t=new FileReader;t.onload=function(t){document.getElementById("image").setAttribute("src",t.target.result)},t.readAsDataURL(input.files[0])}}},computed:{categories:function(){return this.$store.state.data.category.categories},systemInstallAll:function(){return this.$store.state.data.others.systemInstall}}},r=l(12),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-md-12"},[l("div",{staticClass:"card"},[t._m(0),t._v(" "),l("div",{staticClass:"card-body"},[l("form",{attrs:{enctype:"multipart/form-data"},on:{submit:t.formSubmit}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Введите название сервиса")]),t._v(" "),l("el-input",{attrs:{placeholder:"Введите название сервиса"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Краткое описание")]),t._v(" "),l("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Краткое описание"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("el-select",{attrs:{placeholder:"Выберите категорию"},on:{change:t.changeCat},model:{value:t.category_id,callback:function(e){t.category_id=e},expression:"category_id"}},t._l(t.categories,(function(t){return l("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("div",[l("span",{staticClass:"demonstration"},[t._v("Простота использования")]),t._v(" "),l("el-rate",{model:{value:t.assessmentUse,callback:function(e){t.assessmentUse=e},expression:"assessmentUse"}})],1),t._v(" "),l("div",[l("span",{staticClass:"demonstration"},[t._v("Обслуживания клиентов")]),t._v(" "),l("el-rate",{model:{value:t.assessmentSupport,callback:function(e){t.assessmentSupport=e},expression:"assessmentSupport"}})],1)]),t._v(" "),l("div",{staticClass:"t-control t-box"})])],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("TuiEditor",{attrs:{mode:"wysiwyg","preview-style":"vertical",height:"300px"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на сайт")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на сайт"},model:{value:t.linkSite,callback:function(e){t.linkSite=e},expression:"linkSite"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на кейсы")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на кейсы"},model:{value:t.linkCases,callback:function(e){t.linkCases=e},expression:"linkCases"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на инструкции")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на инструкции"},model:{value:t.linkInstructions,callback:function(e){t.linkInstructions=e},expression:"linkInstructions"}})],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на видео")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на видео"},model:{value:t.linkVideo,callback:function(e){t.linkVideo=e},expression:"linkVideo"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Ссылка на API")]),t._v(" "),l("el-input",{attrs:{placeholder:"Ссылка на API"},model:{value:t.linkAPI,callback:function(e){t.linkAPI=e},expression:"linkAPI"}})],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Метод оплаты")]),t._v(" "),l("el-input",{attrs:{placeholder:"Метод оплаты"},model:{value:t.methodsPay,callback:function(e){t.methodsPay=e},expression:"methodsPay"}})],1)])],1),t._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Платформы установки")]),t._v(" "),l("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"Выбрать"},model:{value:t.systemInstall,callback:function(e){t.systemInstall=e},expression:"systemInstall"}},t._l(t.systemInstallAll,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),l("div",{staticClass:"t-control t-box"},[l("span",{staticClass:"t-box-title"},[t._v("Для кого")]),t._v(" "),l("el-select",{staticClass:"full",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Для кого"},model:{value:t.professions,callback:function(e){t.professions=e},expression:"professions"}},t._l(t.professionsOptions,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"t-control t-box"},[l("el-select",{staticClass:"full",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Введите ссылки на соц. сети"},model:{value:t.socials,callback:function(e){t.socials=e},expression:"socials"}},t._l(t.socialsOptions,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),l("div",{staticClass:"t-control t-box t-box-image"},[l("span",{staticClass:"t-box-title"},[t._v("Логотип")]),t._v(" "),l("div",{staticClass:"control-flex"},[l("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:t.onImageChange}}),t._v(" "),l("div",{staticClass:"t-box-image-cover"},[l("img",{attrs:{id:"image",src:"#",alt:""}})])])])])],1),t._v(" "),t._m(1)],1),t._v("\n                        "+t._s(t.output)+"\n                    ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-title"},[this._v("Добавление сервиса")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"t-control"},[e("button",{staticClass:"btn btn-success"},[this._v("Submit")])])}],!1,null,"f934dc06",null);e.default=component.exports}}]);