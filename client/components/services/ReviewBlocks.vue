<template>
    <div class="services-reviews">
        {{reviews}}
        <div class="assessment-pages">

            <div class="reviews-element--container">
                <div class="container">

                    <div v-for="item in reviews"
                         class="reviews-el">
                        <div class="left-box">
                            <div class="top-box">
                                <div class="img-box">
                                    <img src="/images/user.png" alt="">
                                </div>
                                <div class="text-box">
                                    <h3>
                                        {{userName(item.user_id)}}
                                    </h3>
                                    <p>
                                        {{userProfession(item.user_id)}}
                                    </p>
                                    <a href="">{{userName(item.user_id)}}</a>
<!--                                    <a href="" class="facebook">Travis A</a>-->

                                </div>
                            </div>
                            <div class="bottom-box">
                                <p>21.11.2019</p>
                                <div class="star-box">
                                    <div class="services-assessment-box_item">
                                        <div class="services-assessment-title">
                                            Простота использования
                                        </div>
                                        <div class="services-assessment-stars">
                                            <el-rate
                                                v-model="item.rating_use"
                                                :colors="colors">
                                            </el-rate>
                                            <span class="services-assessment-text"> {{item.rating_use}}/5</span>
                                        </div>
                                    </div>
                                    <div  class="services-assessment-box_item">
                                        <div  class="services-assessment-title">
                                            Поддержка
                                        </div>
                                        <div  class="services-assessment-stars">
                                            <el-rate
                                                v-model="item.rating_support"
                                                :colors="colors">
                                            </el-rate>
                                            <span class="services-assessment-text"> {{item.rating_support}}/5</span>
                                        </div>
                                    </div>
                                    <div  class="services-assessment-box_item">
                                        <div  class="services-assessment-title">
                                            Соответствие цены качеству
                                        </div>
                                        <div  class="services-assessment-stars">
                                            <el-rate
                                                v-model="item.rating_quality"
                                                :colors="colors">
                                            </el-rate>
                                            <span  class="services-assessment-text"> {{item.rating_quality}}/5</span></div>
                                    </div>
                                    <div  class="services-assessment-box_item">
                                        <div  class="services-assessment-title">
                                            Возможности
                                        </div>
                                        <div  class="services-assessment-stars">
                                            <el-rate
                                                v-model="item.rating_features"
                                                :colors="colors">
                                            </el-rate>
                                            <span class="services-assessment-text"> {{item.rating_features}}/5</span>
                                        </div>
                                    </div>
                                    <div  class="services-assessment-box_item">
                                        <div  class="services-assessment-title">
                                            Вероятность что буду рекомендовать
                                        </div>
                                        <div  class="services-assessment-stars">
                                            <el-rate
                                                v-model="item.rating_recommendation"
                                                :colors="colors">
                                            </el-rate>
                                            <span  class="services-assessment-text"> {{item.rating_recommendation}}/5</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="right-box">
                            <div class="text-box">
                                <div class="text-el">
                                    <h6>Плюсы:</h6>
                                    <p>{{item.comment_plus}}</p>
                                </div>
                                <div class="text-el">
                                    <h6>Минусы:</h6>
                                    <p>{{item.comment_minus}}</p>
                                </div>
                                <div class="text-el">
                                    <h6>В целом:</h6>
                                    <p>{{item.comment_all}}</p>
                                </div>
                                <div class="bottom-menu" :class="{ 'is-active': listActive }">
                                    <span class="arrow-bottom"></span>
                                    <p @click="listActive = !listActive" class="green">50</p>
                                    <span class="arrow-top"></span>
                                    <ul>
                                        <li>
                                            <img src="/images/user.png" alt="">
                                            <p>Максим Мостовой</p>
                                        </li>
                                        <li>
                                            <img src="/images/32.jpg" alt="">
                                            <p>Андрей Андреевич</p>
                                        </li>
                                        <li>
                                            <img src="/images/user.png" alt="">
                                            <p>Максим Мостовой</p>
                                        </li>
                                        <li>
                                            <img src="/images/32.jpg" alt="">
                                            <p>Андрей Андреевич</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>


<!--                    <div class="update-box-content">-->
<!--                        <div class="text-box">-->
<!--                            <h6>Обновление на  vc.ru</h6>-->
<!--                            <h5>Налоговая безопасность среднего бизнеса в 2020 году.</h5>-->
<!--                            <h5>Большой семинар «Остаться в живых»</h5>-->
<!--                            <div class="bottom-box">-->
<!--                                <p>12 декабря</p>-->
<!--                                <p>Екатеринбург</p>-->
<!--                                <p>19 900 ₽</p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <a href="#">Узнать</a>-->
<!--                    </div>-->


                </div>
            </div>


        </div>
    </div>
</template>

<script>
    export default {
        name: "ReviewBlocks",
        data(){
            return{
                colors: ['#99A9BF', '#F7BA2A', '#FF9900'],
                listActive:false,
            }
        },
        methods: {
            userName(id){
                let strName = '';
                let current = this.targetUser(id);
                console.log(current)
                strName+= current.name + ' ' +current.surname[0] + '.';
                return strName;
            },
            userProfession(id){
                let current = this.targetUser(id);
                return current.profession;
            },
            targetUser(userID){
                return this.users.find((item) => {
                    if (item.id === userID) {
                        return true
                    }
                })
            }
        },
        computed: {
            reviews() {
                return this.$store.state.data.reviews.reviews;
            },
            users() {
                return this.$store.state.data.users.users;
            }
        }
    }
</script>

<style scoped>

</style>
